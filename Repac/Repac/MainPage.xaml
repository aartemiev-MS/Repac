<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="Repac.MainPage">

    <Grid BackgroundColor="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="100"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="70"/>
        </Grid.RowDefinitions>
        <Grid x:Name="Header">
            <Image Source="RepacLogo_Transparent.jpg" 
               Grid.Row="0">
                <Image.GestureRecognizers>
                    <TapGestureRecognizer Tapped="RepacLogo_Tapped"/>
                </Image.GestureRecognizers>
            </Image>
            <Image x:Name="InviteIcon"
                   Source="InviteIcon.png"
                   HeightRequest="80"
                   IsVisible="True"
                   WidthRequest="130"
                   Margin="0,0,20,0"
                   HorizontalOptions="End"/>
            <StackLayout x:Name="UserInfo"
                         Orientation="Horizontal"
                         HorizontalOptions="End"
                         Margin="0,0,20,0"
                         IsVisible="True">
                <StackLayout Margin="0,0,15,0">
                    <Label Text="Bonjour"
                           TextDecorations="Underline"
                           FontSize="40"
                           TextColor="Black"/>
                    <Label Text="Philippe!"
                           TextDecorations="Underline"
                           FontSize="40"
                           TextColor="Black"
                           Margin="0,-10,0,0"/>
                </StackLayout>
                <Image x:Name="PhilippeAvatar" 
                       Source="PhilippesIcon_transparent.png"
                       HorizontalOptions="EndAndExpand"
                       WidthRequest="80"/>
            </StackLayout>
        </Grid>

        <Grid  Grid.Row="1">
            <StackLayout x:Name="FirstScreen"
                             BackgroundColor="White"
                             VerticalOptions="CenterAndExpand" 
                             IsVisible="False">
                <StackLayout.GestureRecognizers>
                    <TapGestureRecognizer Tapped="FirstScreen_Tapped"/>
                </StackLayout.GestureRecognizers>
                <Label Text="Bienvenue!"
                           HorizontalOptions="Center"
                           FontSize="90"
                           TextColor="Black"/>
                <Label Text="..."
                           HorizontalOptions="Center"
                           FontSize="90"
                           TextColor="Black"/>
                <Label Text="Scanning" 
                           HorizontalOptions="Center"
                           FontSize="90"
                           TextColor="Black"/>
            </StackLayout>

            <Grid x:Name="SecondScreen"
                      IsVisible="True">
                <Grid.RowDefinitions>
                    <RowDefinition Height="90"/>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Label x:Name="ItemsScannesLabel" 
                               Text="Items scannés"
                               HorizontalOptions="Center" 
                               FontSize="70"
                               TextDecorations="Underline"
                               TextColor="Black"
                               Grid.Row="0"
                               Grid.RowSpan="2"
                               VerticalOptions="End"/>                

                <Label x:Name="ItemsAdjustmentLabel"    
                               Opacity="100"
                               Grid.Row="0"
                               Text="Items comptés aujourd'hui:"  
                               HorizontalOptions="Center" 
                               FontSize="70"
                               TextDecorations="Underline"
                               TextColor="Black"
                               VerticalOptions="End"/>

                <StackLayout VerticalOptions="CenterAndExpand" 
                                 IsVisible="true"
                                 Grid.Row="1"
                                 Grid.RowSpan="2"
                                 Spacing="0">                    
                    <Image x:Name="ImageSubstract"
                           Source="BlueRoundedSquare.png"
                           HeightRequest="60">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Tapped="ButtonSub_Clicked"/>
                        </Image.GestureRecognizers>
                    </Image>
                    <Grid HeightRequest="350"  
                              WidthRequest="350"
                              Margin="0">
                        <Image Source="BlueRoundedSquare.png"/>
                        <Label x:Name="CounterLabel"
                                   Text="0" 
                                   HorizontalOptions="Center"
                                   FontSize="200" 
                                   VerticalOptions="CenterAndExpand"
                                   TextColor="Black"/>
                    </Grid>
                    <Image x:Name="ImageAdd"
                           Source="BlueRoundedSquare.png"
                           HeightRequest="60">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Tapped="ButtonAdd_Clicked"/>
                        </Image.GestureRecognizers>
                    </Image>
                </StackLayout>
            </Grid>

            <Grid x:Name="ThirdScreen"
                  IsVisible="False">
                <Grid VerticalOptions="CenterAndExpand">
                    <Grid ColumnSpacing="3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>
                        
                        <Grid Grid.Column="0" 
                                          Grid.ColumnSpan="2" 
                                          BackgroundColor="Black"/>

                        <StackLayout BackgroundColor="White"
                                                 VerticalOptions="CenterAndExpand" 
                                                 Grid.Column="0">
                            <Label Text="Items scannés" 
                                               HorizontalOptions="Center"
                                               FontSize="50" 
                                               TextDecorations="Underline"
                                               TextColor="Black"/>
                            <Grid HeightRequest="300"
                                              WidthRequest="300">
                                <Image Source="BlueRoundedSquare.png"/>
                                <Label x:Name="CounterLabelLeft" 
                                                   Text="0" 
                                                   HorizontalOptions="Center"
                                                   FontSize="200" 
                                                   VerticalOptions="CenterAndExpand"
                                                   TextColor="Black"/>
                            </Grid>
                        </StackLayout>

                        <StackLayout BackgroundColor="White" 
                                                 VerticalOptions="CenterAndExpand"
                                                 Grid.Column="1"
                                                 Grid.ColumnSpan="1">
                            <Label Text="Crédits au compte" 
                                               HorizontalOptions="Center" 
                                               FontSize="50" 
                                               TextDecorations="Underline"
                                               TextColor="Black"/>
                            <Grid HeightRequest="300" 
                                              WidthRequest="300">
                                <Image Source="BlueRoundedSquare.png"/>
                                <Label x:Name="CounterLabelRight" 
                                                   Text="0" 
                                                   HorizontalOptions="Center"
                                                   FontSize="200"
                                                   VerticalOptions="CenterAndExpand"
                                                   TextColor="Black"/>
                            </Grid>
                        </StackLayout>

                        <Button x:Name="AddCreditButton"
                                            Grid.Column="1"
                                            Grid.ColumnSpan="2"
                                            HorizontalOptions="End"
                                            VerticalOptions="Center"
                                            WidthRequest="125"
                                            HeightRequest="100"
                                            BackgroundColor="#00ff00"
                                            CornerRadius="25"
                                            FontSize="15"
                                            Text="Augmentez vos crédits"
                                            BorderColor="Black"
                                            BorderWidth="1"
                                            Margin="20"
                                            Clicked="AddProductCredit"/>
                    </Grid>
                </Grid>
                <Grid x:Name="CreditsError"
                      Opacity="0"
                      VerticalOptions="End">
                    <Grid ColumnSpacing="3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>

                        <Label Text="CRÉDITS INSUFFISANTS"
                               TextColor="DarkRed"
                               FontSize="25"
                               Grid.Column="1"
                               HorizontalOptions="Center"
                               VerticalOptions="End"
                               FontAttributes="Bold"
                               Margin="20"/>
                    </Grid>
                </Grid>
            </Grid>

            <Grid x:Name="FourthScreen" 
                      IsVisible="False">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Tapped="MerciTapped"/>
                </Grid.GestureRecognizers>
                <StackLayout VerticalOptions="Center">
                    <Image Source="Check_transparent.png"/>
                    <Label Text="Merci, Philippe!"
                               HorizontalOptions="Center"
                               FontSize="100"
                               TextColor="Black"/>
                </StackLayout>
            </Grid>
        </Grid>
        <StackLayout x:Name="Footer" 
                         Orientation="Horizontal" 
                         HorizontalOptions="Center"
                         Grid.Row="2">
            <Label x:Name="FooterTextLabel"
                       Text="TAPER CARTE/TEL. POUR VOUS IDENTIFIER." 
                       FontSize="25"
                       TextColor="Black"/>
            <Image Source="NFC_PhoneClipart_Transparent.jpg">
                <Image.GestureRecognizers>
                    <TapGestureRecognizer Tapped="FooterIcon_Tapped"/>
                </Image.GestureRecognizers>
            </Image>
            <Image Source="NFC_CreditCard_Transparent.jpg">
                <Image.GestureRecognizers>
                    <TapGestureRecognizer Tapped="FooterIcon_Tapped"/>
                </Image.GestureRecognizers>
            </Image>
        </StackLayout>
    </Grid>

</ContentPage>
